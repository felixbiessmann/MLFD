angular.module("Metanome.config",[]).constant("ENV_VARS",{API:"http://localhost:8081"}),angular.module("Metanome",["ngSanitize","ngAnimate","ngCookies","ngResource","ui.router","ngMaterial","ngDialog","schemaForm","angularSpinner","md.data.table","timer","Metanome.config","toaster"]).config(["$stateProvider","$urlRouterProvider","$qProvider",function(e,t,n){t.otherwise("/new"),n.errorOnUnhandledRejections(!1)}]);var app=angular.module("Metanome").config(["$stateProvider",function(e){e.state("result",{url:"/result/:resultId?cached&count&load&file&extended&ind&od&ucc&cucc&fd&md$cfd&mvd&basicStat&dc",views:{"main@":{controller:"ResultCtrl",templateUrl:"app/result/result.html"}}})}]);app.controller("ResultCtrl",["$scope","$log","Executions","Results","$q","usSpinnerService","$timeout","$stateParams","LoadResults","CountResults","Execution","File","ngDialog","$http","ENV_VARS",function(e,t,n,a,i,o,r,d,c,l,m,u,s,p,f){function h(e){for(var t=[],n=e.length-1;n>=0;n--){for(var a=e.length-1;a>=0;a--)e[n]===e[a]&&n!==a&&delete e[a];void 0!==e[n]&&t.push(e[n])}return t}function g(){a.get(e.uniqueColumnCombination.params,function(t){var n=[];t.forEach(function(e){var t=[];e.result.columnCombination.columnIdentifiers.forEach(function(e){t.push(e.tableIdentifier+"."+e.columnIdentifier)}),n.push({columnCombination:"["+t.join(",\n ")+"]",columnRatio:e.columnRatio,occurrenceRatio:e.occurrenceRatio,uniquenessRatio:e.uniquenessRatio,randomness:e.randomness})}),e.uniqueColumnCombination.data=e.uniqueColumnCombination.data.concat(n)})}function b(){a.get(e.conditionalUniqueColumnCombination.params,function(t){var n=[];t.forEach(function(e){var t=[];e.result.columnCombination.columnIdentifiers.forEach(function(e){t.push(e.tableIdentifier+"."+e.columnIdentifier)}),n.push({columnCombination:"["+t.join(",\n ")+"]",condition:e.result.condition.columnIdentifier.tableIdentifier+"."+e.result.condition.columnIdentifier.columnIdentifier+(e.result.condition.negated?" != ":" = ")+e.result.condition.columnValue,coverage:e.result.condition.coverage,columnRatio:e.columnRatio,occurrenceRatio:e.occurrenceRatio,uniquenessRatio:e.uniquenessRatio})}),e.conditionalUniqueColumnCombination.data=e.conditionalUniqueColumnCombination.data.concat(n)})}function y(){a.get(e.functionalDependency.params,function(t){var n=[];t.forEach(function(e){var t=[];e.result.determinant.columnIdentifiers.forEach(function(e){t.push(e.tableIdentifier&&e.columnIdentifier?e.tableIdentifier+"."+e.columnIdentifier:"")});var a=[];e.extendedDependant&&e.extendedDependant.columnIdentifiers.forEach(function(e){e.tableIdentifier&&e.columnIdentifier?a.push(e.tableIdentifier+"."+e.columnIdentifier):t.push("")});var i="";e.dependant.tableIdentifier&&e.dependant.columnIdentifier&&(i=e.dependant.tableIdentifier+"."+e.dependant.columnIdentifier),n.push({determinant:"["+t.join(",\n ")+"]",dependant:i,extendedDependant:"["+a.join(",\n ")+"]",determinantColumnRatio:e.determinantColumnRatio,dependantColumnRatio:e.dependantColumnRatio,determinantOccurrenceRatio:e.determinantOccurrenceRatio,dependantOccurrenceRatio:e.dependantOccurrenceRatio,generalCoverage:e.generalCoverage,determinantUniquenessRatio:e.determinantUniquenessRatio,dependantUniquenessRatio:e.dependantUniquenessRatio,pollution:e.pollution,pollutionColumn:e.pollutionColumn,informationGainCell:e.informationGainCells,informationGainByte:e.informationGainBytes})}),e.functionalDependency.data=e.functionalDependency.data.concat(n)})}function C(){a.get(e.matchingDependency.params,function(t){var n=[];t.forEach(function(e){var t=[];e.result.determinant.matchingIdentifiers.forEach(function(e){var n="";e.left&&(n=e.left.tableIdentifier+"."+e.left.columnIdentifier);var a="";e.right&&(a=e.right.tableIdentifier+"."+e.right.columnIdentifier);var i;i=n===a?n:n+","+a,t.push(e.similarityMeasure&&e.threshold?i+"("+e.similarityMeasure+"@"+e.threshold+")":"")});var a="";if(e.result.dependant.similarityMeasure&&e.result.dependant.threshold){var i="";e.result.dependant.left&&(i=e.result.dependant.left.tableIdentifier+"."+e.result.dependant.left.columnIdentifier);var o="";e.result.dependant.right&&(o=e.result.dependant.right.tableIdentifier+"."+e.result.dependant.right.columnIdentifier);var r;r=i===o?i:i+","+o,a=r+"("+e.result.dependant.similarityMeasure+"@"+e.result.dependant.threshold+")"}n.push({determinant:"["+t.join(",\n ")+"]",dependant:a,support:e.result.support})}),e.matchingDependency.data=e.matchingDependency.data.concat(n)})}function v(){a.get(e.conditionalFunctionalDependency.params,function(t){var n=[];t.forEach(function(e){var t=[];e.result.determinant.columnIdentifiers.forEach(function(e){t.push(e.tableIdentifier&&e.columnIdentifier?e.tableIdentifier+"."+e.columnIdentifier:"")});var a=[];e.extendedDependant&&e.extendedDependant.columnIdentifiers.forEach(function(e){e.tableIdentifier&&e.columnIdentifier?a.push(e.tableIdentifier+"."+e.columnIdentifier):t.push("")});var i="";e.dependant.tableIdentifier&&e.dependant.columnIdentifier&&(i=e.dependant.tableIdentifier+"."+e.dependant.columnIdentifier),n.push({determinant:"["+t.join(",\n ")+"]",dependant:i,extendedDependant:"["+a.join(",\n ")+"]",tableau:e.patternTableau})}),e.conditionalFunctionalDependency.data=e.conditionalFunctionalDependency.data.concat(n)})}function D(){a.get(e.basicStatistic.params,function(t){var n=[];t.forEach(function(e){for(var t in e.statisticMap)n.push(t)}),n=h(n),n.forEach(function(t){e.basicStatisticColumnNames.push({name:t,order:t.replace(/\s/g,"_")})});var a=[];t.forEach(function(t){var n=[];t.result.columnCombination.columnIdentifiers.forEach(function(e){n.push(e.tableIdentifier+"."+e.columnIdentifier)});var i={columnCombination:"["+n.join(",\n ")+"]",columnRatio:t.columnRatio,occurrenceRatio:t.occurrenceRatio,uniquenessRatio:t.uniquenessRatio};e.basicStatisticColumnNames.forEach(function(e){i[e.order]=e.name in t.result.statisticMap?t.result.statisticMap[e.name].value:"-"}),a.push(i)}),e.basicStatistic.data=e.basicStatistic.data.concat(a)})}function R(){a.get(e.denialConstraint.params,function(t){var n=[];t.forEach(function(e){var t=[],a=[];e.result.predicates.forEach(function(e){var n=_[e.op]||e.op;"de.metanome.algorithm_integration.PredicateConstant"===e.type?(a[e.index1]=e.column1.tableIdentifier,t.push("t"+e.index1+"."+e.column1.columnIdentifier+n+e.constant)):"de.metanome.algorithm_integration.PredicateVariable"===e.type&&(a[e.index1]=e.column1.tableIdentifier,a[e.index2]=e.column2.tableIdentifier,t.push("t"+e.index1+"."+e.column1.columnIdentifier+n+"t"+e.index2+"."+e.column2.columnIdentifier))});var i=[];for(var o in a)a.hasOwnProperty(o)&&i.push("t"+o+"∈"+a[o]);var r={predicates:"∀"+i.join(",")+":\n¬["+t.join("∧\n ")+"]",size:t.length};n.push(r)}),e.denialConstraint.data=e.denialConstraint.data.concat(n)})}function x(){a.get(e.inclusionDependency.params,function(t){var n=[];t.forEach(function(e){var t=[];e.result.dependant.columnIdentifiers.forEach(function(e){t.push(e.tableIdentifier+"."+e.columnIdentifier)});var a=[];e.result.referenced.columnIdentifiers.forEach(function(e){a.push(e.tableIdentifier+"."+e.columnIdentifier)}),n.push({dependant:"["+t.join(",\n ")+"]",referenced:"["+a.join(",\n ")+"]",dependantColumnRatio:e.dependantColumnRatio,referencedColumnRatio:e.referencedColumnRatio,dependantOccurrenceRatio:e.dependantOccurrenceRatio,referencedOccurrenceRatio:e.referencedOccurrenceRatio,generalCoverage:e.generalCoverage,dependantUniquenessRatio:e.dependantUniquenessRatio,referencedUniquenessRatio:e.referencedUniquenessRatio})}),e.inclusionDependency.data=e.inclusionDependency.data.concat(n)})}function I(){a.get(e.orderDependency.params,function(t){var n=[];t.forEach(function(e){var t=[];e.result.lhs.columnIdentifiers.forEach(function(e){t.push(e.tableIdentifier+"."+e.columnIdentifier)});var a=[];e.result.rhs.columnIdentifiers.forEach(function(e){a.push(e.tableIdentifier+"."+e.columnIdentifier)});var i="Lexicographical";"POINTWISE"===e.orderType&&(i="Pointwise");var o="<";"SMALLER_EQUAL"===e.comparisonOperator&&(o="<="),n.push({LHS:"["+t.join(",\n ")+"]",RHS:"["+a.join(",\n ")+"]",ComparisonOperator:o,OrderType:i,LHSColumnRatio:e.lhsColumnRatio,RHSColumnRatio:e.rhsColumnRatio,GeneralCoverage:e.generalCoverage,LHSOccurrenceRatio:e.lhsOccurrenceRatio,RHSOccurrenceRatio:e.rhsOccurrenceRatio,LHSUniquenessRatio:e.lhsUniquenessRatio,RHSUniquenessRatio:e.rhsUniquenessRatio})}),e.orderDependency.data=e.orderDependency.data.concat(n)})}function q(){a.get(e.multivaluedDependency.params,function(t){var n=[];t.forEach(function(e){var t=[];e.result.determinant.columnIdentifiers.forEach(function(e){t.push(e.tableIdentifier+"."+e.columnIdentifier)});var a=[];e.result.dependant.columnIdentifiers.forEach(function(e){a.push(e.tableIdentifier+"."+e.columnIdentifier)}),n.push({determinant:"["+t.join(",\n ")+"]",dependant:"["+a.join(",\n ")+"]",determinantColumnRatio:e.determinantColumnRatio,dependantColumnRatio:e.dependantColumnRatio,determinantOccurrenceRatio:e.determinantOccurrenceRatio,dependantOccurrenceRatio:e.dependantOccurrenceRatio,generalCoverage:e.generalCoverage,determinantUniquenessRatio:e.determinantUniquenessRatio,dependantUniquenessRatio:e.dependantUniquenessRatio,pollution:e.pollution,pollutionColumn:e.pollutionColumn,informationGainCell:e.informationGainCells,informationGainByte:e.informationGainBytes})}),e.multivaluedDependency.data=e.multivaluedDependency.data.concat(n)})}function S(){(e.ucc||e.file)&&p.get(f.API+"/api/result-store/count/"+e.uniqueColumnCombination.params.type).then(function(t){var n=t.data;n>0&&(e.uniqueColumnCombination.count=n,e.count||g())}),(e.fd||e.file)&&p.get(f.API+"/api/result-store/count/"+e.functionalDependency.params.type).then(function(t){var n=t.data;n>0&&(e.functionalDependency.count=n,e.count||y())}),(e.md||e.file)&&p.get(f.API+"/api/result-store/count/"+e.matchingDependency.params.type).then(function(t){var n=t.data;n>0&&(e.matchingDependency.count=n,e.count||C())}),(e.cfd||e.file)&&p.get(f.API+"/api/result-store/count/"+e.conditionalFunctionalDependency.params.type).then(function(t){var n=t.data;n>0&&(e.conditionalFunctionalDependency.count=n,e.count||v())}),(e.basicStat||e.file)&&p.get(f.API+"/api/result-store/count/"+e.basicStatistic.params.type).then(function(t){var n=t.data;n>0&&(e.basicStatistic.count=n,e.count||D())}),(e.dc||e.file)&&p.get(f.API+"/api/result-store/count/"+e.denialConstraint.params.type).then(function(t){var n=t.data;n>0&&(e.denialConstraint.count=n,e.count||R())}),(e.ind||e.file)&&p.get(f.API+"/api/result-store/count/"+e.inclusionDependency.params.type).then(function(t){var n=t.data;n>0&&(e.inclusionDependency.count=n,e.count||x())}),(e.cucc||e.file)&&p.get(f.API+"/api/result-store/count/"+e.conditionalUniqueColumnCombination.params.type).then(function(t){var n=t.data;n>0&&(e.conditionalUniqueColumnCombination.count=n,e.count||b())}),(e.od||e.file)&&p.get(f.API+"/api/result-store/count/"+e.orderDependency.params.type).then(function(t){var n=t.data;n>0&&(e.orderDependency.count=n,e.count||I())}),(e.mvd||e.file)&&p.get(f.API+"/api/result-store/count/"+e.multivaluedDependency.params.type).then(function(t){var n=t.data;n>0&&(e.multivaluedDependency.count=n,e.count||q())})}function A(){u.get({id:e.id},function(t){e.file=t,e.file.shortFileName=e.file.fileName.replace(/^.*[\\\/]/,"")})}function w(e){return 10>e?"0"+e:""+e}function O(){m.get({id:e.id},function(t){e.execution=t;var n=t.end-t.begin,a=Math.floor(n/864e5),i=w(Math.floor(n/36e5)),o=w(Math.floor(n/6e4%60)),r=w(Math.floor(n/1e3%60)),d=Math.floor(n%1e3);e.duration="00"===r?d+" ms":0===a?i+":"+o+":"+r+" (hh:mm:ss) and "+d+" ms":a+" day(s) and "+i+":"+o+":"+r+" (hh:mm:ss) and "+d+" ms"})}function E(){e.openVisualizationType="FD",s.open({template:"/assets/visualization.html",scope:e})}function T(){e.openVisualizationType="UCC",s.open({template:"/assets/visualization.html",scope:e})}function U(t,n){var a=i.defer();return e.functionalDependency.params.to<e.functionalDependency.count?(e.functionalDependency.params.from+=e.functionalDependency.params.to+1,e.functionalDependency.params.to+=Math.max(n,e.functionalDependency.count),y(),r(function(){a.resolve()},500)):a.resolve(),a.promise}function k(t,n){var a=i.defer();return e.matchingDependency.params.to<e.matchingDependency.count?(e.matchingDependency.params.from+=e.matchingDependency.params.to+1,e.matchingDependency.params.to+=Math.max(n,e.matchingDependency.count),C(),r(function(){a.resolve()},500)):a.resolve(),a.promise}function N(t,n){var a=i.defer();return e.conditionalFunctionalDependency.params.to<e.conditionalFunctionalDependency.count?(e.conditionalFunctionalDependency.params.from+=e.conditionalFunctionalDependency.params.to+1,e.conditionalFunctionalDependency.params.to+=Math.max(n,e.conditionalFunctionalDependency.count),y(),r(function(){a.resolve()},500)):a.resolve(),a.promise}function F(t,n){var a=i.defer();return e.uniqueColumnCombination.params.to<e.uniqueColumnCombination.count?(e.uniqueColumnCombination.params.from+=e.uniqueColumnCombination.params.to+1,e.uniqueColumnCombination.params.to+=Math.max(n,e.uniqueColumnCombination.count),g(),r(function(){a.resolve()},500)):a.resolve(),a.promise}function P(t,n){var a=i.defer();return e.basicStatistic.params.to<e.basicStatistic.count?(e.basicStatistic.params.from+=e.basicStatistic.params.to+1,e.basicStatistic.params.to+=Math.max(n,e.basicStatistic.count),D(),r(function(){a.resolve()},500)):a.resolve(),a.promise}function M(t,n){var a=i.defer();return e.denialConstraint.params.to<e.denialConstraint.count?(e.denialConstraint.params.from+=e.denialConstraint.params.to+1,e.denialConstraint.params.to+=Math.max(n,e.denialConstraint.count),R(),r(function(){a.resolve()},500)):a.resolve(),a.promise}function L(t,n){var a=i.defer();return e.inclusionDependency.params.to<e.inclusionDependency.count?(e.inclusionDependency.params.from+=e.inclusionDependency.params.to+1,e.inclusionDependency.params.to+=Math.max(n,e.inclusionDependency.count),x(),r(function(){a.resolve()},500)):a.resolve(),a.promise}function V(t,n){var a=i.defer();return e.conditionalUniqueColumnCombination.params.to<e.conditionalUniqueColumnCombination.count?(e.conditionalUniqueColumnCombination.params.from+=e.conditionalUniqueColumnCombination.params.to+1,e.conditionalUniqueColumnCombination.params.to+=Math.max(n,e.conditionalUniqueColumnCombination.count),b(),r(function(){a.resolve()},500)):a.resolve(),a.promise}function $(t,n){var a=i.defer();return e.orderDependency.params.to<e.orderDependency.count?(e.orderDependency.params.from+=e.orderDependency.params.to+1,e.orderDependency.params.to+=Math.max(n,e.orderDependency.count),I(),r(function(){a.resolve()},500)):a.resolve(),a.promise}function H(t,n){var a=i.defer();return e.multivaluedDependency.params.to<e.multivaluedDependency.count?(e.multivaluedDependency.params.from+=e.multivaluedDependency.params.to+1,e.multivaluedDependency.params.to+=Math.max(n,e.multivaluedDependency.count),q(),r(function(){a.resolve()},500)):a.resolve(),a.promise}function B(){r(function(){o.spin("spinner-2")},10)}function z(){r(function(){o.stop("spinner-2")},10)}function G(t){e.errorMessage=t,s.open({template:'                <h3 style="color: #F44336">ERROR</h3>                <p>{{errorMessage}}</p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">Ok</button>                </div>',plain:!0,scope:e})}e.id=d.resultId,e.extended="true"===d.extended,e.cached="true"===d.cached,e.file="true"===d.file,e.count="true"===d.count,e.fd="true"===d.fd,e.md="true"===d.md,e.cfd="true"===d.cfd,e.ind="true"===d.ind,e.ucc="true"===d.ucc,e.cucc="true"===d.cucc,e.od="true"===d.od,e.mvd="true"===d.mvd,e.basicStat="true"===d.basicStat,e.dc="true"===d.dc,e.load="true"===d.load,e.basicStatisticColumnNames=[],e.paginationValues=[10,20,30,40,50];var j=50;e.uniqueColumnCombination={count:0,data:[],query:{order:"",limit:10,page:1},selected:[],params:{type:"Unique Column Combination",sort:"Column Combination",from:0,to:j}},e.functionalDependency={count:0,data:[],query:{order:"",limit:10,page:1},selected:[],params:{type:"Functional Dependency",sort:"Determinant",from:0,to:j}},e.matchingDependency={count:0,data:[],query:{order:"",limit:10,page:1},selected:[],params:{type:"Matching Dependency",sort:"Determinant",from:0,to:j}},e.conditionalFunctionalDependency={count:0,data:[],query:{order:"",limit:10,page:1},selected:[],params:{type:"Conditional Functional Dependency",sort:"Determinant",from:0,to:j}},e.basicStatistic={count:0,data:[],query:{order:"",limit:10,page:1},selected:[],params:{type:"Basic Statistic",sort:"Column Combination",from:0,to:j}},e.denialConstraint={count:0,data:[],query:{order:"",limit:10,page:1},selected:[],params:{type:"Denial Constraint",sort:"Predicates",from:0,to:j}},e.inclusionDependency={count:0,data:[],query:{order:"",limit:10,page:1},selected:[],params:{type:"Inclusion Dependency",sort:"Dependant",from:"0",to:j}},e.conditionalUniqueColumnCombination={count:0,data:[],query:{order:"",limit:10,page:1},selected:[],params:{type:"Conditional Unique Column Combination",sort:"Dependant",from:"0",to:j}},e.orderDependency={count:0,data:[],query:{order:"",limit:10,page:1},selected:[],params:{type:"Order Dependency",sort:"LHS",from:"0",to:j}},e.multivaluedDependency={count:0,data:[],query:{order:"",limit:10,page:1},selected:[],params:{type:"Multivalued Dependency",sort:"Determinant",from:"0",to:j}};var _={EQUAL:"=",UNEQUAL:"≠",GREATER:">",LESS:"<",GREATER_EQUAL:"≥",LESS_EQUAL:"≤"};e.openFDVisualization=E,e.openUCCVisualization=T,e.onPageChangeBS=P,e.onPageChangeUCC=F,e.onPageChangeFD=U,e.onPageChangeMD=k,e.onPageChangeCFD=N,e.onPageChangeIND=L,e.onPageChangeCUCC=V,e.onPageChangeOD=$,e.onPageChangeMVD=H,e.onPageChangeDC=M,e.extended?(B(),e.loading=!0,c.load({id:e.id,notDetailed:!1},function(){S(),O(),e.loading=!1,z()},function(t){e.loading=!1,z(),G("Could not load extended results: "+t.data)})):e.file?(B(),e.loading=!0,A(),c.file({id:e.id,notDetailed:!0},function(){S(),e.loading=!1,z()},function(t){e.loading=!1,z(),G("Results could not be loaded: "+t.data)})):e.load?(B(),e.loading=!0,c.load({id:e.id,notDetailed:!0},function(){S(),O(),e.loading=!1,z()},function(t){e.loading=!1,z(),G("Results could not be loaded: "+t.data)})):(e.loading=!1,S(),O())}]),angular.module("Metanome").config(["$stateProvider",function(e){e.state("new",{url:"/new",views:{"main@":{controller:"NewCtrl",templateUrl:"app/new/new.html"}}})}]).controller("NewCtrl",["$scope","$log","ngDialog","Algorithms","Datasource","Parameter","AlgorithmExecution","usSpinnerService","$location","InputStore","AvailableAlgorithmFiles","AvailableInputFiles","Delete","toaster","$animate",function(e,t,n,a,i,o,r,d,c,l,m,u,s,p){function f(){var t=[{name:"inclusion-dependency-algorithms",display:"Inclusion Dependency Algorithms"},{name:"functional-dependency-algorithms",display:"Functional Dependency Algorithms"},{name:"matching-dependency-algorithms",display:"Matching Dependency Algorithms"},{name:"conditional-functional-dependency-algorithms",display:"Conditional Functional Dependency Algorithms"},{name:"unique-column-combination-algorithms",display:"Unique Column Combination Algorithms"},{name:"conditional-unique-column-combination-algorithms",display:"Conditional Unique Column Combination Algorithms"},{name:"order-dependency-algorithms",display:"Order Dependency Algorithms"},{name:"multivalued-dependency-algorithms",display:"Multivalued Dependency Algorithms"},{name:"basic-statistics-algorithms",display:"Basic Statistics Algorithms"},{name:"denial-constraint-algorithms",display:"Denial Constraint Algorithms"}];e.algorithms=[],t.forEach(function(t){a.get({type:t.name},function(n){n=z(n),e.algorithms.push({name:t.display,algorithms:n.sort(function(e,t){return e.name.localeCompare(t.name)})}),e.algorithms.sort(function(e,t){return e.name.localeCompare(t.name)})})})}function h(){var t=[{name:"file-inputs",display:"File Input",order:1},{name:"database-connections",display:"Database Connection",order:2},{name:"table-inputs",display:"Table Inputs",order:3}];e.datasources=[];var n=[];t.forEach(function(t){i.get({type:t.name},function(a){a=z(a),a.forEach(function(e){"file-inputs"===t.name&&-1!==e.name.lastIndexOf("inputData")&&(e.name=e.name.substr(e.name.lastIndexOf("inputData")+10,e.name.length-1)),"database-connections"===t.name&&(e.name=e.url+"; "+e.username+"; "+e.system),"table-inputs"===t.name&&(n.push(e.databaseConnection.id),e.databaseConnection.name=e.databaseConnection.url+"; "+e.databaseConnection.username+"; "+e.databaseConnection.system),e.disabled=!1,at[e.type][""+e.id]=e}),e.datasources.push({name:t.display,order:t.order,datasource:a.sort(function(e,t){return e.name.localeCompare(t.name)}),possible:!0}),e.datasources.sort(function(e,t){return e.order-t.order}),3===e.datasources.length&&e.datasources[1].datasource.forEach(function(e){n.indexOf(e.id)>-1&&(e.used=!0)})})})}function g(){tt=-1!==navigator.platform.indexOf("Win")?"\\":"/"}function b(){n.open({template:"/assets/new-algorithm.html",scope:e,preCloseCallback:function(){U()},controller:["$scope",function(e){function t(){e.$parent.AvailableAlgorithmFiles.get(function(t){e.$parent.algorithms.forEach(function(e){e.algorithms.forEach(function(e){var n=t.indexOf(e.fileName);-1!==n&&t.splice(n,1)})}),e.algorithmFiles=t,e.$parent.AlgorithmToEdit&&e.algorithmFiles.push(e.newAlgorithm.fileName)})}function a(t){if(G(),!t.fileName)return void X("You have to select an algorithm jar-file!");if(!t.name)return void X("You have to insert an algorithm name!");V();var a={id:t.id,fileName:t.fileName,name:t.name,author:t.author,description:t.description,ind:t.ind,fd:t.fd,md:t.md,cfd:t.cfd,ucc:t.ucc,cucc:t.cucc,od:t.od,mvd:t.mvd,basicStat:t.basicStat,dc:t.dc,relationalInput:t.relationalInput,databaseConnection:t.databaseConnection,tableInput:t.tableInput,fileInput:t.fileInput};e.$parent.AlgorithmToEdit?e.$parent.InputStore.updateAlgorithm(a,function(){H(),f(),n.closeAll()},function(e){H(),X("An error occurred when updating this algorithm: "+e.data)}):e.$parent.InputStore.newAlgorithm(a,function(){H(),f(),n.closeAll()},function(e){H(),X("An error occurred when saving this algorithm: "+e.data)})}function i(){o.authorsDescription({algorithm:e.newAlgorithm.fileName},function(t){e.newAlgorithm.author=void 0!==t.authors&&t.authors?t.authors:"No author",e.newAlgorithm.description=void 0!==t.description&&t.description?t.description:"No description"})}e.$parent.AlgorithmToEdit?(e.newAlgorithm=e.$parent.AlgorithmToEdit,e.defaultAlgorithmText=e.newAlgorithm.fileName):(e.newAlgorithm={},e.defaultAlgorithmText="--choose an algorithm--",e.newAlgorithm.author="No author",e.newAlgorithm.description="No description"),e.algorithmFiles=[],e.saveNewAlgorithm=a,e.algorithmFileChanged=i,t()}]})}function y(){n.open({template:"/assets/new-datasource.html",scope:e,preCloseCallback:function(){T()},controller:["$scope",function(e){function t(t){e.newDataSourceCategory=t}function a(e){var t=[],n=[];return e.forEach(function(e){-1===e.indexOf(".")?n.push(e):t.push(e)}),t.forEach(function(e){var t=e.substr(0,e.lastIndexOf(tt));-1!==n.indexOf(t)&&n.splice(n.indexOf(t),1)}),n}function i(){e.AvailableInputFiles.get(function(t){var n=t.map(function(e){return-1!==e.lastIndexOf("inputData")?e.substr(e.lastIndexOf("inputData")+10,e.length-1):e});e.$parent.datasources.forEach(function(e){"File Input"===e.name&&e.datasource.forEach(function(e){if(-1!==e.fileName.lastIndexOf("inputData"))var a=n.indexOf(e.fileName.substr(e.fileName.lastIndexOf("inputData")+10,e.fileName.length-1));else var a=n.indexOf(e.fileName);-1!==a&&(t.splice(a,1),n.splice(a,1))});var i=a(n);i.forEach(function(e){var a=n.indexOf(e);-1!==a&&(t.splice(a,1),n.splice(a,1))})}),t.forEach(function(t){e.files.push({fileName:t,shortFileName:t.substr(t.lastIndexOf("inputData")+10,t.length-1)})}),e.$parent.editFileInput&&e.files.push({fileName:e.file.fileName,shortFileName:e.file.fileName.substr(e.file.fileName.lastIndexOf("inputData")+10,e.file.fileName.length-1)}),e.files.sort(function(e,t){return e.shortFileName.localeCompare(t.shortFileName)})})}function o(){e.$parent.datasources.forEach(function(t){"Database Connection"===t.name&&(e.databaseConnections=t.datasource)})}function r(t){if(G(),!t.fileName)return void X("You have to select a file!");V();var a={type:"fileInput",id:t.id||1,name:t.fileName||"",fileName:t.fileName||"",separator:t.separator||"",quoteChar:t.quoteChar||"",escapeChar:t.escapeChar||"",skipLines:t.skipLines||"0",strictQuotes:t.strictQuotes||!1,ignoreLeadingWhiteSpace:t.ignoreLeadingWhiteSpace||!1,hasHeader:t.hasHeader||!1,skipDifferingLines:t.skipDifferingLines||!1,comment:t.comment||"",nullValue:t.nullValue||""};e.$parent.editFileInput?e.$parent.InputStore.updateFileInput(a,function(){h(),n.closeAll(),H()},function(e){X("An error occurred when updating this datasource: "+e.data),H()}):e.AvailableInputFiles.getDirectory(a,function(){h(),n.closeAll(),H()},function(e){X("An error occurred when updating this datasource: "+e.data),H()})}function d(t){if(G(),!t.url)return void X("You have to insert a database url!");if(!t.password)return void X("You have to insert a password!");if(!t.username)return void X("You have to insert a username!");if(!t.system)return void X("You have to select a system!");V();var a={type:"databaseConnection",id:t.id||1,name:t.url+"; "+t.userName+"; "+t.system||"",url:t.url||"",username:t.username||"",password:t.password||"",system:t.system||"",comment:t.comment||""};e.$parent.editDatabaseInput?e.$parent.InputStore.updateDatabaseConnection(a,function(){h(),n.closeAll(),H()},function(e){X("An error occurred when updating this datasource: "+e.data),H()}):e.$parent.InputStore.newDatabaseConnection(a,function(){h(),n.closeAll(),H()},function(e){X("An error occurred when saving this datasource: "+e.data),H()})}function c(t){if(G(),t.databaseConnection=JSON.parse(t.databaseConnection),void 0===t.databaseConnection)return void X("You have to select a database connection!");if(!t.tableName)return void X("You have to insert a table name!");V();var a={type:"tableInput",id:t.id||1,name:t.tableName+"; "+t.databaseConnection.name||"",tableName:t.tableName||"",databaseConnection:{type:"databaseConnection",id:t.databaseConnection.id,name:t.databaseConnection.name,url:t.databaseConnection.url,username:t.databaseConnection.username,password:t.databaseConnection.password,system:t.databaseConnection.system,comment:t.databaseConnection.comment},comment:t.comment||""};e.$parent.editTableInput?e.$parent.InputStore.updateTableInput(a,function(){h(),H(),n.closeAll()},function(e){X("An error occurred when updating this datasource: "+e.data),H()}):e.$parent.InputStore.newTableInput(a,function(){h(),n.closeAll(),H()},function(e){X("An error occurred when saving this datasource: "+e.data),H()})}e.newDataSourceCategory="file",e.$parent.editFileInput?(e.file=e.$parent.editFileInput,e.defaultFileText=-1!==e.file.fileName.lastIndexOf("inputData")?e.file.fileName.substr(e.file.fileName.lastIndexOf("inputData")+10,e.file.fileName.length-1):e.file.fileName,e.newDataSourceCategory="file"):(e.defaultFileText="--choose a file--",e.file={separator:",",quoteChar:"'",escapeChar:"\\",skipLines:"0",strictQuotes:!1,ignoreLeadingWhiteSpace:!0,hasHeader:!0,skipDifferingLines:!1,nullValue:""}),e.$parent.editDatabaseInput?(e.database=e.$parent.editDatabaseInput,e.newDataSourceCategory="database"):e.database={},e.$parent.editTableInput?(e.table=e.$parent.editTableInput,e.newDataSourceCategory="table",e.defaultDatabaseConnectionText=e.table.databaseConnection.name):(e.table={},e.defaultDatabaseConnectionText="--choose a database connection--"),e.files=[],e.databaseConnections=[],e.selectDatasourceCategory=t,e.saveNewFileInput=r,e.saveDatabaseInput=d,e.saveTableInput=c,i(),o()}]})}function C(){n.openConfirm({template:'                <h3>Confirm</h3>                <p>{{$parent.confirmDescription}}</p>                <p>{{$parent.confirmText}}</p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">No</button>                    <button type="button" class="ngdialog-button ngdialog-button-warning" ng-click="$parent.confirmDialog(1)">Yes</button>                </div>',plain:!0,scope:e})}function v(t){var a;switch(t.type){case"fileInput":a="file input";break;case"databaseConnection":a="database connection";break;case"tableInput":a="table input";break;default:a="algorithm"}e.confirmText="Are you sure you want to delete the "+a+"?",e.confirmDescription="Deleting this "+a+" results also in deleting all executions of this "+a+". However, the result files remain on disk.",e.confirmItem=t,e.confirmFunction=function(){switch(e.confirmItem.type){case"fileInput":V(),s.file({id:e.confirmItem.id},function(){H(),h(),n.closeAll()});break;case"databaseConnection":V(),s.database({id:e.confirmItem.id},function(){H(),h(),n.closeAll()});break;case"tableInput":V(),s.table({id:e.confirmItem.id},function(){H(),h(),n.closeAll()});break;default:V(),s.algorithm({id:e.confirmItem.id},function(){H(),G(),n.closeAll()})}},C()}function D(){e.confirmFunction()}function R(t){var n=nt[t.type].indexOf(t.id);t.active=t.active||!1,t.active=!t.active,-1===n?nt[t.type].push(t.id):(nt[t.type].splice(n,1),W());var a="";"fileInput"===t.type?a="File Input":"databaseConnection"===t.type?a="Database Connection":"tableInput"===t.type&&(a="Table Inputs"),-1!==e.maxNumberOfSetting[a]&&e.maxNumberOfSetting[a]<=nt[t.type].length?e.datasources.forEach(function(e){e.name.indexOf(a)>-1&&e.datasource.forEach(function(e){(void 0===e.active||e.active===!1)&&(e.disabled=!0)})}):W()}function x(t,n){var a,i=e.activeAlgorithm;try{a=Q(et)}catch(o){return void X(o.message)}var d=new Date,c=d.getFullYear()+"-"+B(d.getMonth()+1)+"-"+B(d.getDate())+"T"+B(d.getHours())+B(d.getMinutes())+B(d.getSeconds()),l={algorithmId:i.id,executionIdentifier:i.fileName+c,requirements:a,cacheResults:"cache"===t,writeResults:"disk"===t,countResults:"count"===t,memory:n||""};e.payload=l,e.canceled=!1,e.cancelFunction=function(){e.canceled=!0},P(),r.run({},l,function(n){var a="&ind="+n.algorithm.ind+"&fd="+n.algorithm.fd+"&md="+n.algorithm.md+"&cfd="+n.algorithm.cfd+"&ucc="+n.algorithm.ucc+"&cucc="+n.algorithm.cucc+"&od="+n.algorithm.od+"&mvd="+n.algorithm.mvd+"&basicStat="+n.algorithm.basicStat+"&dc="+n.algorithm.dc;e.canceled||(a="cache"===t||"disk"===t?"#/result/"+n.id+"?cached=true"+a:"#/result/"+n.id+"?count=true"+a,M(n,a))},function(e){L(e)})}function I(t){e.activeAlgorithm&&(e.activeAlgorithm.active=!1),t.active=!0,e.activeAlgorithm=t}function q(t){e.datasources.forEach(function(e){e.name.indexOf("Table Inputs")>-1?e.possible=t.tableInput||t.relationalInput:e.name.indexOf("Database Connection")>-1?e.possible=t.databaseConnection:e.name.indexOf("File Input")>-1&&(e.possible=t.fileInput||t.relationalInput)})}function S(e){I(e),q(e),W(),_(),A(),w(),O(e)}function A(){e.model={},e.form=[],e.schema={type:"object",properties:{}},e.algorithmHasCustomProperties=!1}function w(){e.form=["*",{type:"actions",items:[]}]}function O(t){et=[],e.maxNumberOfSetting={},nt={fileInput:[],tableInput:[],databaseConnection:[]},e.schema.required=[],o.get({algorithm:t.fileName},function(t){t.sort(function(e,t){return-1*e.type.localeCompare(t.type)}),t.forEach(function(t){switch(et.push(t),t.type){case"ConfigurationRequirementRelationalInput":N(t,"File Input"),N(t,"Table Inputs");break;case"ConfigurationRequirementFileInput":N(t,"File Input");break;case"ConfigurationRequirementTableInput":N(t,"Table Inputs");break;case"ConfigurationRequirementDatabaseConnection":N(t,"Database Connection");break;case"ConfigurationRequirementInteger":F(t,"number",!1,!1);break;case"ConfigurationRequirementListBox":F(t,"string",!0,!1);break;case"ConfigurationRequirementCheckBox":F(t,"array",!1,!0);break;case"ConfigurationRequirementString":F(t,"string",!1,!1);
break;case"ConfigurationRequirementBoolean":F(t,"boolean",!1,!1);break;default:e.console.error("Parameter type "+t.type+" not supported yet")}})})}function E(t){switch(e.edit=!0,e.saveUpdateButton="Update",t.type){case"fileInput":e.editFileInput=t;break;case"databaseConnection":e.editDatabaseInput=t;break;case"tableInput":e.editTableInput=t}y()}function T(){e.editFileInput=null,e.editDatabaseInput=null,e.editTableInput=null,e.edit=!1,e.saveUpdateButton="Save"}function U(){e.AlgorithmToEdit=null,e.edit=!1,e.saveUpdateButton="Save"}function k(t){e.edit=!0,e.saveUpdateButton="Update",e.AlgorithmToEdit=t,b()}function N(t,n){var a=-1;$.grep(e.datasources,function(e,t){return void 0!==e&&void 0!==e.name&&e.name.indexOf(n)>-1?(a=t,!0):!1}),e.datasources[a].name=-1===t.numberOfSettings?n+" (choose an arbitrary number separated by comma)":t.minNumberOfSettings===t.maxNumberOfSettings?n+" (choose "+t.minNumberOfSettings+")":n+" (min: "+t.minNumberOfSettings+" | max: "+t.maxNumberOfSettings+")",e.maxNumberOfSetting[n]=e.maxNumberOfSetting[n]||0,e.maxNumberOfSetting[n]+=t.maxNumberOfSettings}function F(t,n,a,i){e.algorithmHasCustomProperties=!0;var o;if(t.numberOfSettings>1)for(var r=1;r<=t.numberOfSettings;r++)o=t.identifier+" ("+r+")",e.schema.properties[o]={title:o,type:n},i&&(e.form.key=o,e.form.type="checkboxes",e.form.titleMap=[],t.values.forEach(function(t){e.form.titleMap.push({value:t,name:t})}),e.schema.properties[o].items={},e.schema.properties[o].items.type="string",e.schema.properties[o].items["enum"]=[],t.values.forEach(function(t){e.schema.properties[o].items["enum"].push(t)})),a&&(e.schema.properties[o]["enum"]=[],t.values.forEach(function(t){e.schema.properties[o]["enum"].push(t)})),t.required&&e.schema.required.push(o),null!==t.defaultValues&&void 0!==t.defaultValues&&(e.schema.properties[o]["default"]=t.defaultValues[r]);else-1===t.numberOfSettings?(o=t.identifier,e.schema.properties[o]={title:o+" (choose an arbitrary number separated by comma)",type:n},i||a||(e.schema.properties[o].title=o,e.schema.properties[o].type="array",e.schema.properties[o].items={},e.schema.properties[o].items.type=n),i&&(e.form.key=o,e.form.type="checkboxes",e.form.titleMap=[],t.values.forEach(function(t){e.form.titleMap.push({value:t,name:t})}),e.schema.properties[o].items={},e.schema.properties[o].items.type="string",e.schema.properties[o].items["enum"]=[],t.values.forEach(function(t){e.schema.properties[o].items["enum"].push(t)})),a&&(e.schema.properties[o]["enum"]=[],t.values.forEach(function(t){e.schema.properties[o]["enum"].push(t)})),t.required&&e.schema.required.push(o),null!==t.defaultValues&&void 0!==t.defaultValues&&(e.schema.properties[o]["default"]=t.defaultValues[0])):(o=t.identifier,e.schema.properties[o]={title:o,type:n},i&&(e.form.key=o,e.form.type="checkboxes",e.form.titleMap=[],t.values.forEach(function(t){e.form.titleMap.push({value:t,name:t})}),e.schema.properties[o].items={},e.schema.properties[o].items.type="string",e.schema.properties[o].items["enum"]=[],t.values.forEach(function(t){e.schema.properties[o].items["enum"].push(t)})),a&&(e.schema.properties[o]["enum"]=[],t.values.forEach(function(t){e.schema.properties[o]["enum"].push(t)})),t.required&&e.schema.required.push(o),null!==t.defaultValues&&void 0!==t.defaultValues&&(e.schema.properties[o]["default"]=t.defaultValues[0]))}function P(){p.pop({type:"info",title:"Execution of algorithm",body:"Algorithm execution started!",showCloseButton:!0,positionClass:"toast-top-full-width"})}function M(e,t){p.pop({type:"success",bodyOutputType:"trustedHtml",title:"Algorithm execution successful!",body:"Execution of Algorithm "+e.algorithm.name+' successful! <a href="'+t+'">Show Results!</a>',showCloseButton:!0,positionClass:"toast-top-full-width"})}function L(e){p.pop({type:"error",title:"During the algorithm execution following error occured: "+e.data,body:"An Error occured!",showCloseButton:!0,positionClass:"toast-top-full-width"})}function V(){d.spin("spinner-1")}function H(){d.stop("spinner-1")}function B(e){return 10>e?"0"+e:""+e}function z(e){var t=e.map(function(e){return e.id});return e.filter(function(e,n){return t.indexOf(e.id)===n})}function G(){f(),h(),A(),e.activeAlgorithm=void 0}function j(){W(),_(),A()}function _(){["File Input","Database Connection","Table Inputs"].forEach(function(){e.datasources.forEach(function(e){e.datasource.forEach(function(e){e.active=!1})})})}function W(){["File Input","Database Connection","Table Inputs"].forEach(function(){e.datasources.forEach(function(e){e.datasource.forEach(function(e){e.disabled=!1})})})}function Y(t,n){var a,i;if(-1===t.numberOfSettings){if(void 0!==e.model[t.identifier]){var o=e.model[t.identifier];o.forEach(function(e){void 0!==e&&t.settings.push({type:n,value:e})})}}else if(t.numberOfSettings>1)for(i=t.numberOfSettings;i>0;i--)a=e.model[t.identifier+" ("+i+")"],void 0!==a&&t.settings.push({type:n,value:settingVal});else a=e.model[t.identifier],void 0!==a&&t.settings.push({type:n,value:a});return t}function Q(t){var n,a,i,o,r,d;for(n=0;n<t.length;n++){switch(t[n].settings=[],void 0!==t[n].fixNumberOfSettings&&delete t[n].fixNumberOfSettings,d=-1!==t[n].numberOfSettings?t[n].numberOfSettings:1e3,t[n].type){case"ConfigurationRequirementInteger":t[n]=Y(t[n],"ConfigurationSettingInteger");break;case"ConfigurationRequirementString":t[n]=Y(t[n],"ConfigurationSettingString");break;case"ConfigurationRequirementBoolean":t[n]=Y(t[n],"ConfigurationSettingBoolean");break;case"ConfigurationRequirementListBox":t[n]=Y(t[n],"ConfigurationSettingListBox");break;case"ConfigurationRequirementCheckBox":t[n]=Y(t[n],"ConfigurationSettingCheckBox");break;case"ConfigurationRequirementTableInput":for(i=nt.tableInput.slice(0),a=1;d>=a&&i.length>0;a++)r=at.tableInput[""+i.pop()],o={table:r.tableName,databaseConnection:{dbUrl:r.databaseConnection.url,username:r.databaseConnection.username,password:r.databaseConnection.password,system:r.databaseConnection.system,type:"ConfigurationSettingDatabaseConnection",id:r.databaseConnection.id},type:"ConfigurationSettingTableInput",id:r.id},t[n].settings.push(o);break;case"ConfigurationRequirementDatabaseConnection":for(i=nt.databaseConnection.slice(0),a=1;d>=a&&i.length>0;a++)r=at.databaseConnection[""+i.pop()],o={dbUrl:r.url,username:r.username,password:r.password,system:r.system,type:"ConfigurationSettingDatabaseConnection",id:r.id},t[n].settings.push(o);break;case"ConfigurationRequirementFileInput":for(i=nt.fileInput.slice(0),a=1;d>=a&&i.length>0;a++)r=at.fileInput[""+i.pop()],o={fileName:r.fileName,advanced:!1,separatorChar:r.separator,quoteChar:r.quoteChar,escapeChar:r.escapeChar,strictQuotes:r.strictQuotes,ignoreLeadingWhiteSpace:r.ignoreLeadingWhiteSpace,skipLines:r.skipLines,header:r.hasHeader,skipDifferingLines:r.skipDifferingLines,nullValue:r.nullValue,type:"ConfigurationSettingFileInput",id:r.id},t[n].settings.push(o);break;case"ConfigurationRequirementRelationalInput":for(i=nt.tableInput.slice(0),a=1;d>=a&&i.length>0;a++)r=at.tableInput[""+i.pop()],o={table:r.tableName,databaseConnection:{dbUrl:r.databaseConnection.url,username:r.databaseConnection.username,password:r.databaseConnection.password,system:r.databaseConnection.system,type:"ConfigurationSettingDatabaseConnection",id:r.databaseConnection.id},type:"ConfigurationSettingTableInput",id:r.id},t[n].settings.push(o);for(i=nt.fileInput.slice(0),a=1;d>=a&&i.length>0;a++)r=at.fileInput[""+i.pop()],o={fileName:r.fileName,advanced:!1,separatorChar:r.separator,quoteChar:r.quoteChar,escapeChar:r.escapeChar,strictQuotes:r.strictQuotes,ignoreLeadingWhiteSpace:r.ignoreLeadingWhiteSpace,skipLines:r.skipLines,header:r.hasHeader,skipDifferingLines:r.skipDifferingLines,nullValue:r.nullValue,type:"ConfigurationSettingFileInput",id:r.id},t[n].settings.push(o);break;default:e.console.error('Parameter Type "'+t[n].type+'" not not supported yet for execution!')}var c=t[n].settings.length;if(t[n].required&&-1!==t[n].numberOfSettings&&c!==t[n].numberOfSettings&&(c<t[n].minNumberOfSettings||c>t[n].maxNumberOfSettings)||t[n].required&&-1===t[n].numberOfSettings&&1>c)throw new J('Wrong value or number for parameter "'+t[n].identifier+'"! Was '+t[n].numberOfSettings)}return t}function J(e){this.name="WrongParameterError",this.message=e||""}function X(t){e.errorMessage=t,n.open({template:'                <h3 style="color: #F44336">ERROR</h3>                <p>{{errorMessage}}</p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">Ok</button>                </div>',plain:!0,scope:e})}function K(){n.open({template:'                <h3 style="color: rgb(63, 81, 181);">File Input Help</h3><br>                <p>If you want to add new files to the available files, add your files to the folder <i>"/WEB-INF/classes/inputData/"</i>.                CSV and TSV files are accepted by Metanome. The files need to be UTF-8 or ASCII encoded.</p><br/>                <p><b>Additional settings</b>:<br>                Do not escape any characters, Metanome is taking care of that.                For example, if you want a backslash as escape character, just write a single "\\".                 For tab separator type in "\\t".                 For the null string you can either type in "\\0" or just leave the field empty. </p><br/>                <p>Make sure, that you set the correct settings, so that your file input can be read.                 If a line could not be read properly, <i>null</i> is returned.                Internally, <i>au.com.bytecode.opencsv.CSVReader</i> is used to read the input file.                </p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">Ok</button>                </div>',plain:!0,scope:e})}function Z(){n.open({template:'                <h3 style="color: rgb(63, 81, 181);">Algorithm Help</h3><br>                <p>If you want to add new algorithm files to the available jar-files, add your jar-files to the folder <i>"/WEB-INF/classes/algorithms/"</i>.</p><br/>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">Ok</button>                </div>',plain:!0,scope:e})}e.algorithms=[],e.datasources=[],e.maxNumberOfSetting={},e.model={},e.form=[],e.schema={type:"object",properties:{},required:[],form:[]},e.algorithmHasCustomProperties=!1,e.activeAlgorithm=void 0,e.cachingSelection="cache",e.saveUpdateButton="Save";var et,tt,nt={fileInput:[],tableInput:[],databaseConnection:[]},at={fileInput:{},tableInput:{},databaseConnection:{}};J.prototype=Error.prototype,e.openAlgorithmSettings=b,e.openDatasourceSettings=y,e.executeAlgorithm=x,e.toggleDatasource=R,e.activateAlgorithm=S,e.confirmDelete=v,e.confirmDialog=D,e.editAlgorithm=k,e.editDatasource=E,e.resetAlgorithm=G,e.resetDataSources=j,e.openFileInputHelp=K,e.openAlgorithmHelp=Z,e.InputStore=l,e.AvailableAlgorithmFiles=m,e.AvailableInputFiles=u,e.doneEditingDatasources=T,f(),h(),A(),g()}]);var app=angular.module("Metanome").config(["$stateProvider",function(e){e.state("history",{url:"/history",views:{"main@":{controller:"HistoryCtrl",templateUrl:"app/history/history.html"}}})}]);app.controller("HistoryCtrl",["$scope","$log","Executions","$filter","$location","ngDialog","$timeout","Delete","StopExecution","usSpinnerService",function(e,t,n,a,i,o,r,d,c,l){function m(e){return 10>e?"0"+e:""+e}function u(){n.getAll({},function(t){e.content=[],t.forEach(function(t){var n=[];t.inputs.forEach(function(e){e.name=e.name.replace(/^.*[\\\/]/,""),n.push(e.name)});var i=[];t.algorithm.basicStat===!0&&i.push("Basic Statistics"),t.algorithm.ucc===!0&&i.push("Unique Column Combination"),t.algorithm.cucc===!0&&i.push("Conditional Unique Column Combination"),t.algorithm.ind===!0&&i.push("Inclusion Dependency"),t.algorithm.fd===!0&&i.push("Functional Dependency"),t.algorithm.od===!0&&i.push("Order Dependency"),t.algorithm.mvd===!0&&i.push("Multivalued Dependency"),t.algorithm.dc===!0&&i.push("Denial Constraint"),t.algorithm.md===!0&&i.push("Matching Dependency"),t.aborted&&(i=["EXECUTION ABORTED"]);var o=t.end-t.begin;0===t.end&&(o=0);var r,d=Math.floor(o/864e5),c=m(Math.floor(o/36e5)),l=m(Math.floor(o/6e4%60)),u=m(Math.floor(o/1e3%60)),s=Math.floor(o%1e3);r="00"===u?s+" ms":0===d?c+":"+l+":"+u+" (hh:mm:ss) and "+s+" ms":d+" day(s) and "+c+":"+l+":"+u+" (hh:mm:ss) and "+s+" ms",e.content.push({id:t.id,name:t.algorithm.name,date:a("date")(t.begin,"yyyy-MM-dd HH:mm:ss"),time:r,inputs:n.join(",\n"),resultType:i.join(", "),actions:"",aborted:t.aborted,count:t.countResult,cached:!t.countResult,fd:t.algorithm.fd,md:t.algorithm.md,cfd:t.algorithm.cfd,ind:t.algorithm.ind,ucc:t.algorithm.ucc,cucc:t.algorithm.cucc,od:t.algorithm.od,mvd:t.algorithm.mvd,basicStat:t.algorithm.basicStat,dc:t.algorithm.dc,running:t.running,identifier:t.identifier})});var n=a("orderBy");e.content=n(e.content,e.historyTable.params.sort,!0),e.historyTable.count=e.content.length})}function s(e){e.aborted||i.url("/result/"+e.id+"?count="+e.count+"&cached="+e.cached+"&load=true&ind="+e.ind+"&fd="+e.fd+"&md="+e.md+"&cfd="+e.cfd+"&ucc="+e.ucc+"&cucc="+e.cucc+"&od="+e.od+"&mvd"+e.mvd+"&basicStat="+e.basicStat+"&dc="+e.dc)}function p(){r(function(){l.spin("spinner-2")},100)}function f(){l.stop("spinner-2")}function h(t){e.confirmText="Are you sure you want to delete it?",e.confirmItem=t,e.confirmFunction=function(){e.startSpin(),d.execution({id:e.confirmItem.id},function(){e.loadExecutions()}),e.stopSpin(),o.closeAll()},o.openConfirm({template:'                <h3>Confirm</h3>                <p>{{$parent.confirmText}}</p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">No</button>                    <button type="button" class="ngdialog-button ngdialog-button-warning" ng-click="$parent.confirmFunction(1)">Yes</button>                </div>',plain:!0,scope:e})}function g(t){e.confirmText="Are you sure you want to stop the algorithm execution?",e.confirmItem=t,e.confirmFunction=function(){e.startSpin(),c.stop({identifier:e.confirmItem.identifier},function(){e.cancelFunction(),e.loadExecutions()}),e.stopSpin(),o.closeAll()},o.openConfirm({template:'                <h3>Confirm</h3>                <p>{{$parent.confirmText}}</p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">No</button>                    <button type="button" class="ngdialog-button ngdialog-button-warning" ng-click="$parent.confirmFunction(1)">Yes</button>                </div>',plain:!0,scope:e})}e.content=[],e.historyTable={count:0,query:{order:"",limit:10,page:1},params:{sort:"date",from:0,to:10}},e.loadExecutions=u,e.confirmDelete=h,e.confirmStop=g,e.showResult=s,e.startSpin=p,e.stopSpin=f,u()}]),angular.module("Metanome").factory("StopExecution",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/algorithm-execution/stop/:identifier",{},{stop:{method:"POST",params:{identifier:"@identifier"}}})}]),angular.module("Metanome").factory("Results",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/result-store/:method/:type/:sort/:ascending/:from/:to",{},{get:{method:"GET",params:{type:"@type",sort:"@sort",from:"@from",to:"@to",method:"get-from-to",ascending:"true"},isArray:!0}})}]),angular.module("Metanome").factory("Parameter",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/parameter/:algorithm/:what",{},{get:{method:"GET",params:{algorithm:"@algorithm",what:""},isArray:!0},authorsDescription:{method:"GET",params:{algorithm:"@algorithm",what:"authors-description"}}})}]),angular.module("Metanome").factory("LoadResults",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/result-store/:type/:id/:notDetailed",{},{load:{method:"POST",params:{id:"@id",notDetailed:"@notDetailed",type:"load-execution"},isArray:!0},file:{method:"GET",params:{id:"@id",notDetailed:"@notDetailed",type:"load-results"},isArray:!0}})}]),angular.module("Metanome").factory("InputStore",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/:type/:action",{},{newAlgorithm:{method:"POST",params:{type:"algorithms",action:"store"}},newFileInput:{method:"POST",params:{type:"file-inputs",action:"store"}},newTableInput:{method:"POST",params:{type:"table-inputs",action:"store"}},newDatabaseConnection:{method:"POST",params:{type:"database-connections",action:"store"}},updateAlgorithm:{method:"POST",params:{type:"algorithms",action:"update"}},updateFileInput:{method:"POST",params:{type:"file-inputs",action:"update"}},updateTableInput:{method:"POST",params:{type:"table-inputs",action:"update"}},updateDatabaseConnection:{method:"POST",params:{type:"database-connections",action:"update"}}})}]),angular.module("Metanome").factory("File",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/file-inputs/get/:id",{},{get:{method:"GET",params:{id:"@id"}}})}]),angular.module("Metanome").factory("Executions",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/executions",{},{getAll:{method:"GET",isArray:!0}})}]),angular.module("Metanome").factory("Execution",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/executions/get/:id",{},{get:{method:"GET",params:{id:"@id"}}})}]),angular.module("Metanome").factory("Delete",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/:input/delete/:id",{},{file:{method:"DELETE",params:{input:"file-inputs",id:"@id"}},table:{method:"DELETE",params:{input:"table-inputs",id:"@id"}},database:{method:"DELETE",params:{input:"database-connections",id:"@id"}},algorithm:{method:"DELETE",params:{input:"algorithms",id:"@id"}},execution:{method:"DELETE",params:{input:"executions",id:"@id"}}})}]),angular.module("Metanome").factory("Datasource",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/:type",{},{get:{method:"GET",params:{type:"@type"},isArray:!0}})}]),angular.module("Metanome").factory("CountResults",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/result-store/count/:type",{},{get:{method:"GET",params:{type:"@type"}}})}]),angular.module("Metanome").factory("AvailableInputFiles",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/file-inputs/:operation",{},{get:{method:"GET",params:{operation:"available-input-files"},isArray:!0},getDirectory:{method:"POST",params:{operation:"get-directory-files"},isArray:!0}})}]),angular.module("Metanome").factory("AvailableAlgorithmFiles",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/algorithms/available-algorithm-files",{},{get:{method:"GET",params:{type:"@type"},isArray:!0}})}]),angular.module("Metanome").factory("Algorithms",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/algorithms/:type",{},{get:{method:"GET",params:{type:"@type"},isArray:!0}})}]),angular.module("Metanome").factory("AlgorithmExecution",["$resource","ENV_VARS",function(e,t){return e(t.API+"/api/algorithm-execution",{},{run:{method:"POST"}})}]);var app=angular.module("Metanome").config(["$stateProvider",function(e){e.state("about",{url:"/about",views:{"main@":{controller:"AboutCtrl",templateUrl:"app/about/about.html"}}})}]).config(["$locationProvider",function(e){e.hashPrefix("")}]);app.controller("AboutCtrl",function(){}),angular.module("Metanome").run(["$templateCache",function(e){e.put("app/about/about.html",'<div class="main-container"><div class="tabbar"><div class="tabbar-content" style="width: 100%"><a ng-href="#/new" class="tabLink"><div class="tab"><span>NEW</span></div></a> <a ng-href="#/history" class="tabLink"><div class="tab"><span>HISTORY</span></div></a> <a ng-href="#/about" class="tabLink active"><div class="tab"><span>ABOUT</span></div></a><div style="text-align: right"><img style="margin-right: 30px; align-items: center; width: 8%" src="/assets/images/logo.png"></div></div></div><md-card><md-card-content>Data profiling comprises a broad range of methods to efficiently analyze a given data set. In a typical scenario, which mirrors the capabilities of commercial data profiling tools, tables of a relational database are scanned to derive metadata, such as data types and value patterns, completeness and uniqueness of columns, keys and foreign keys, and occasionally functional dependencies and association rules. Individual research projects have proposed several additional profiling tasks, such as the discovery of inclusion dependencies or conditional functional dependencies.<br><br>The <a href="http://www.metanome.de">Metanome project</a> is a joint project between the Hasso-Plattner-Institut (<a href="http://www.hpi.de">HPI</a>) and the Qatar Computing Research Institute (<a href="http://www.qcri.org/">QCRI</a>). Metanome provides a fresh view on data profiling by developing and integrating efficient algorithms into a common tool, expanding on the functionality of data profiling, and addressing performance and scalability issues for Big Data. A vision of the project appears in SIGMOD Record: "<a href="http://hpi.de/naumann/publications/publications-by-type/year/2013/102276/Nau13.html">Data Profiling Revisited</a>" and demo of the Metanome profiling tool was given at VLDB 2015 "<a href="https://hpi.de/en/naumann/publications/publications-by-year/year/2015/102850/papenbrock2015metanome.html">Data Profiling with Metanome</a>".<br><br>The project can be found on GitHub: <a href="https://github.com/HPI-Information-Systems/Metanome">https://github.com/HPI-Information-Systems/Metanome</a>. The Metanome tool is supplied under Apache License. You can use and extend the tool to develop your own profiling algorithms. The profiling algorithms contained in our downloadable Metanome build have HPI copyright. You are free to use and distribute them for research purposes.<br><br><br>Metanome Developers:<ul><li>Maxi Fischer</li><li>Vincent Schwarzer</li><li>Carl Ambroselli</li><li>Tanja Bergmann</li><li>Claudia Exeler</li><li>Moritz Finke</li><li>Jakob Zwiener</li><li>Sebastian Kruse</li><li>Thorsten Papenbrock</li></ul></md-card-content></md-card></div>'),e.put("app/history/history.html",'<div class="main-container"><div class="tabbar"><div class="tabbar-content"><a ng-href="#/new" class="tabLink"><div class="tab"><span>NEW</span></div></a> <a ng-href="#/history" class="tabLink active"><div class="tab"><span>HISTORY</span></div></a> <a ng-href="#/about" class="tabLink"><div class="tab"><span>ABOUT</span></div></a><div style="text-align: right"><img style="margin-right: 30px; align-items: center; width: 8%" src="/assets/images/logo.png"></div></div></div><md-card><md-table-container><table md-table="" class="md-primary history-table"><thead md-head="" md-order="historyTable.query.order"><tr md-row=""><th md-column="" md-order-by="id"></th><th md-column="" md-order-by="algorithm-name">Algorithm</th><th md-column="" md-order-by="date">Date</th><th md-column="" md-order-by="execution-time">Execution Time</th><th md-column="" md-order-by="inputs">Inputs</th><th md-column="" md-order-by="result-type">Result Types</th><th md-column=""></th><th md-column=""></th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="c in content | orderBy: historyTable.query.order | limitTo: historyTable.query.limit : (historyTable.query.page -1) * historyTable.query.limit"><td md-cell="" ng-click="showResult(c)">{{c.id}}</td><td md-cell="" ng-click="showResult(c)"><b>{{c.name}}</b></td><td md-cell="" ng-click="showResult(c)" style="color: grey">{{c.date}}</td><td md-cell="" ng-click="showResult(c)" style="color: grey">{{c.time}}</td><td md-cell="" ng-click="showResult(c)">{{c.inputs}}</td><td md-cell="" ng-click="showResult(c)">{{c.resultType}}</td><td md-cell=""><div ng-if="c.aborted == true"><i class="zmdi zmdi-alert-circle zmdi-hc-lg datasourceIcon"></i></div></td><td md-cell=""><div ng-if="c.running == true"><i class="zmdi zmdi-stop zmdi-hc-lg datasourceIcon" ng-click="confirmStop(c)"></i></div><div ng-if="c.running == false"><i class="zmdi zmdi-delete zmdi-hc-lg datasourceIcon" ng-click="confirmDelete(c)"></i></div></td></tr></tbody></table></md-table-container><md-table-pagination md-limit="historyTable.query.limit" md-page="historyTable.query.page" md-total="{{historyTable.count}}" md-options="[10,20,30,40,50]" md-page-select=""></md-table-pagination></md-card></div>'),e.put("app/new/new.html",'<div class="main-container"><div class="tabbar"><div class="tabbar-content" style="width: 100%"><a ng-href="#/new" class="tabLink active"><div class="tab"><span>NEW</span></div></a> <a ng-href="#/history" class="tabLink"><div class="tab"><span>HISTORY</span></div></a> <a ng-href="#/about" class="tabLink"><div class="tab"><span>ABOUT</span></div></a><div style="text-align: right"><img style="margin-right: 30px; align-items: center; width: 8%" src="/assets/images/logo.png"></div></div></div><div class="new-controller"><div layout="row" layout-wrap=""><div flex="50"><md-card><md-card-content><h2 style="margin-bottom: 10px;">Choose algorithm</h2><a class="reset-algorithm" title="Reset selection" ng-click="resetAlgorithm()"><i class="zmdi zmdi-refresh zmdi-hc-2x"></i></a> <a class="settings-algorithm" title="Add new algorithm" ng-click="openAlgorithmSettings()"><i class="zmdi zmdi-plus-square zmdi-hc-2x"></i></a><div class="algorithms-container"><md-list style="padding-top: 4px;"><div ng-repeat="algorithmsList in algorithms"><md-subheader class="list-category" ng-bind="algorithmsList.name"></md-subheader><md-list-item class="md-2-line" ng-repeat="item in algorithmsList.algorithms"><div class="algo-in-list md-list-item-text" ng-class="{active: item.active}" ng-click="activateAlgorithm(item)" style="margin: 0 -13px 0 -20px; padding: 6px 0 0px 4px;"><h3>{{ item.name }} <i class="zmdi zmdi-delete zmdi-hc-lg algorithmIcon" ng-click="confirmDelete(item)"></i> <a style="color: black" ng-click="editAlgorithm(item)"><i class="zmdi zmdi-edit zmdi-hc-lg algorithmIcon"></i></a></h3><p class="algo-desc">{{ item.description || "No description" }}</p></div></md-list-item><md-divider style="margin-top: 5px"></md-divider></div></md-list></div></md-card-content></md-card></div><div flex="50"><md-card><md-card-content><h2 style="margin-bottom: 10px;">Select datasource</h2><a class="reset-datasources" title="Reset selection" ng-click="resetDataSources()"><i class="zmdi zmdi-refresh zmdi-hc-2x"></i></a> <a class="settings-datasources" title="Add new datasource" ng-click="openDatasourceSettings()"><i class="zmdi zmdi-plus-square zmdi-hc-2x"></i></a><div class="datasources-container"><md-list style="padding-top: 4px;"><div ng-repeat="datasource in datasources | filter:{ possible: true }"><md-subheader class="list-category" ng-bind="datasource.name"></md-subheader><md-list-item class="md-2-line" ng-repeat="item in datasource.datasource | filter:{ disabled: false }" style="min-height: 20px"><div class="algo-in-list md-list-item-text" ng-class="{active: item.active}" ng-click="toggleDatasource(item)" style="margin: 0 -13px 0 -20px; padding: 6px 0 0px 4px;"><h3>{{ item.name }} <span class="datasourceActions"><a ng-if="datasource.name == \'File Input\'" style="color: black" ng-href="#/result/{{item.id}}?cached=false&file=true"><i class="zmdi zmdi-square-right zmdi-hc-lg datasourceIcon"></i></a> <a ng-if="!item.used" style="color: black"><i class="zmdi zmdi-delete zmdi-hc-lg datasourceIcon" ng-click="confirmDelete(item)"></i></a> <a style="color: black" ng-click="editDatasource(item)"><i class="zmdi zmdi-edit zmdi-hc-lg datasourceIcon"></i></a></span></h3><p class="algo-desc">{{ item.comment || "No description" }}</p></div></md-list-item><md-divider style="margin-top: 5px"></md-divider></div></md-list></div></md-card-content></md-card></div><span us-spinner="{radius:50, width:20, length: 26}" spinner-key="spinner-1"></span><div flex="100"><md-card><md-card-content ng-if="activeAlgorithm"><h2 style="margin-bottom: 25px;">Additional configuration</h2><div style="width: 50%; margin-bottom: -15px;"><form sf-schema="schema" sf-form="form" sf-model="model" ng-if="algorithmHasCustomProperties"></form></div><h4>Result handling</h4><md-radio-group ng-model="cachingSelection"><md-radio-button style="margin-bottom: 5px" value="cache" aria-label="Label 1">Cache result and write it to disk when the algorithm is finished.</md-radio-button><md-radio-button style="margin-bottom: 5px" value="disk">Write result immediately to disk.</md-radio-button><md-radio-button value="count" aria-label="Label 3">Just count the results.</md-radio-button></md-radio-group><p style="margin-top: 20px">Memory (in MB): <input ng-model="memory"></p><md-button ng-click="executeAlgorithm(cachingSelection, memory)" class="md-raised md-primary">Execute</md-button></md-card-content></md-card></div></div></div></div>'),e.put("app/result/result.html",'<div class="main-container"><div class="tabbar"><div class="tabbar-content"><a ng-href="#/new" class="tabLink"><div class="tab"><span>NEW</span></div></a> <a ng-href="#/history" class="tabLink"><div class="tab"><span>HISTORY</span></div></a> <a class="tabLink active"><div class="tab"><span>RESULT</span></div></a> <a ng-href="#/about" class="tabLink"><div class="tab"><span>ABOUT</span></div></a><div style="text-align: right"><img style="margin-right: 30px; align-items: center; width: 8%" src="/assets/images/logo.png"></div></div></div><md-card ng-if="file"><p style="margin-left: 20px; margin-top: 15px">Results for file \'{{file.shortFileName}}\'</p></md-card><md-card ng-if="execution"><p style="margin-left: 20px; margin-top: 15px">Results for algorithm \'{{execution.algorithm.fileName}}\'<span ng-if="execution.end > 0">executed in {{duration}}</span> <span ng-if="execution.end == 0">- EXECUTION ABORTED!</span> <a ng-if="!extended && !count && execution.end > 0" ng-href="#/result/{{id}}?extended=true&cached={{cached}}&ind={{ind}}&fd={{fd}}&md={{md}}&cfd={{cfd}}&ucc={{ucc}}&cucc={{cucc}}&od={{od}}&basicStat={{basicStat}}&mvd={{mvd}}&dc={{dc}}" style="margin: -10px 10px -10px 0; float: right;"><md-button ng-click="executeAlgorithm(cachingSelection, memory)" class="md-raised md-primary">Load extended result</md-button></a></p></md-card><md-card ng-if="(cached || file) && uniqueColumnCombination.count > 0"><md-table-toolbar><h2 class="md-title">Unique Column Combination<md-button ng-if="extended" ng-click="openUCCVisualization()" style="font-size: 12px; margin-top: -2px" md-no-ink="" class="md-primary">Show visualization</md-button></h2></md-table-toolbar><md-table-container><table md-table="" class="md-primary result-table"><thead md-head="" md-order="uniqueColumnCombination.query.order"><tr md-row="" class="result-header-row"><th md-column="" md-order-by="columnCombination" name="Column Combination">Column Combination</th><th md-column="" ng-if="extended" md-order-by="columnRatio" name="Column Ratio">Column Ratio</th><th md-column="" ng-if="extended" md-order-by="occurrenceRatio" name="Occurrence Ratio">Occurrence Ratio</th><th md-column="" ng-if="extended" md-order-by="uniquenessRatio" name="Uniqueness Ratio">Uniqueness Ratio</th><th md-column="" ng-if="extended" md-order-by="randomness" name="Randomness">Randomness</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in uniqueColumnCombination.data | orderBy: uniqueColumnCombination.query.order | limitTo: uniqueColumnCombination.query.limit: (uniqueColumnCombination.query.page - 1) * uniqueColumnCombination.query.limit"><td md-cell="">{{item.columnCombination}}</td><td md-cell="" ng-if="extended">{{item.columnRatio}}</td><td md-cell="" ng-if="extended">{{item.occurrenceRatio}}</td><td md-cell="" ng-if="extended">{{item.uniquenessRatio}}</td><td md-cell="" ng-if="extended">{{item.randomness}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="uniqueColumnCombination.query.limit" md-page="uniqueColumnCombination.query.page" md-total="{{uniqueColumnCombination.count}}" md-on-paginate="onPageChangeUCC" md-options="paginationValues"></md-table-pagination></md-card><md-card ng-if="(cached || file) && functionalDependency.count > 0"><md-table-toolbar><h2 class="md-title">Functional Dependency<md-button ng-if="extended" ng-click="openFDVisualization()" style="font-size: 12px;" md-no-ink="" class="md-primary">Show visualization</md-button></h2></md-table-toolbar><md-table-container><table md-table="" class="md-primary result-table"><thead md-head="" md-order="functionalDependency.query.order"><tr md-row="" class="result-header-row"><th md-column="" md-order-by="determinant" name="Determinant">Determinant</th><th md-column="" md-order-by="dependant" name="Dependant">Dependant</th><th md-column="" ng-if="extended" md-order-by="extendedDependant" name="Extended Dependant">Extended Dependant</th><th md-column="" ng-if="extended" numeric="" md-order-by="determinantColumnRatio" name="Determinant Column Ratio">Determinant Column Ratio</th><th md-column="" ng-if="extended" numeric="" md-order-by="dependantColumnRatio" name="Dependant Column Ratio">Dependant Column Ratio</th><th md-column="" ng-if="extended" numeric="" md-order-by="determinantOccurrenceRatio" name="Determinant Occurrence Ratio">Determinant Occurrence Ratio</th><th md-column="" ng-if="extended" numeric="" md-order-by="dependantOccurrenceRatio" name="Dependant Occurrence Ratio">Dependant Occurrence Ratio</th><th md-column="" ng-if="extended" numeric="" md-order-by="generalCoverage" name="General Coverage">General Coverage</th><th md-column="" ng-if="extended" numeric="" md-order-by="determinantUniquenessRatio" name="Determinant Uniqueness Ratio">Determinant Uniqueness Ratio</th><th md-column="" ng-if="extended" numeric="" md-order-by="dependantUniquenessRatio" name="Dependant Uniqueness Ratio">Dependant Uniqueness Ratio</th><th md-column="" ng-if="extended" numeric="" md-order-by="informationGainCell" name="Information Gain Cell">Information Gain Cell</th><th md-column="" ng-if="extended" numeric="" md-order-by="informationGainByte" name="Information Gain Byte">Information Gain Byte</th><th md-column="" ng-if="extended" numeric="" md-order-by="pollution" name="Pollution">Pollution</th><th md-column="" ng-if="extended" md-order-by="pollutionColumn" name="Pollution Column">Pollution Column</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in functionalDependency.data | orderBy: functionalDependency.query.order | limitTo: functionalDependency.query.limit: (functionalDependency.query.page - 1) * functionalDependency.query.limit"><td md-cell="">{{item.determinant}}</td><td md-cell="">{{item.dependant}}</td><td md-cell="" ng-if="extended">{{item.extendedDependant}}</td><td md-cell="" ng-if="extended">{{item.determinantColumnRatio}}</td><td md-cell="" ng-if="extended">{{item.dependantColumnRatio}}</td><td md-cell="" ng-if="extended">{{item.determinantOccurrenceRatio}}</td><td md-cell="" ng-if="extended">{{item.dependantOccurrenceRatio}}</td><td md-cell="" ng-if="extended">{{item.generalCoverage}}</td><td md-cell="" ng-if="extended">{{item.determinantUniquenessRatio}}</td><td md-cell="" ng-if="extended">{{item.dependantUniquenessRatio}}</td><td md-cell="" ng-if="extended">{{item.informationGainCell}}</td><td md-cell="" ng-if="extended">{{item.informationGainByte}}</td><td md-cell="" ng-if="extended">{{item.pollution}}</td><td md-cell="" ng-if="extended">{{item.pollutionColumn}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="functionalDependency.query.limit" md-page="functionalDependency.query.page" md-total="{{functionalDependency.count}}" md-on-paginate="onPageChangeFD" md-options="paginationValues"></md-table-pagination></md-card><md-card ng-if="(cached || file) && matchingDependency.count > 0"><md-table-toolbar><h2 class="md-title">Matching Dependency</h2></md-table-toolbar><md-table-container><table md-table="" class="md-primary result-table"><thead md-head="" md-order="matchingDependency.query.order"><tr md-row="" class="result-header-row"><th md-column="" md-order-by="determinant" name="Determinant">Determinant</th><th md-column="" md-order-by="dependant" name="Dependant">Dependant</th><th md-column="" ng-if="extended" md-order-by="support" name="Support">Support</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in matchingDependency.data | orderBy: matchingDependency.query.order | limitTo: matchingDependency.query.limit: (matchingDependency.query.page - 1) * matchingDependency.query.limit"><td md-cell="">{{item.determinant}}</td><td md-cell="">{{item.dependant}}</td><td md-cell="" ng-if="extended">{{item.support}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="matchingDependency.query.limit" md-page="matchingDependency.query.page" md-total="{{matchingDependency.count}}" md-on-paginate="onPageChangeMD" md-options="paginationValues"></md-table-pagination></md-card><md-card ng-if="(cached || file) && conditionalFunctionalDependency.count > 0"><md-table-toolbar><h2 class="md-title">Conditional Functional Dependency</h2></md-table-toolbar><md-table-container><table md-table="" class="md-primary result-table"><thead md-head="" md-order="conditionalFunctionalDependency.query.order"><tr md-row="" class="result-header-row"><th md-column="" md-order-by="determinant" name="Determinant">Determinant</th><th md-column="" md-order-by="dependant" name="Dependant">Dependant</th><th md-column="" md-order-by="tableau" name="Tableau">Pattern Tableau</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in conditionalFunctionalDependency.data | orderBy: conditionalFunctionalDependency.query.order | limitTo: conditionalFunctionalDependency.query.limit: (conditionalFunctionalDependency.query.page - 1) * conditionalFunctionalDependency.query.limit"><td md-cell="">{{item.determinant}}</td><td md-cell="">{{item.dependant}}</td><td md-cell="">{{item.tableau}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="conditionalFunctionalDependency.query.limit" md-page="conditionalFunctionalDependency.query.page" md-total="{{conditionalFunctionalDependency.count}}" md-on-paginate="onPageChangeCFD" md-options="paginationValues"></md-table-pagination></md-card><md-card ng-if="(cached || file) && inclusionDependency.count > 0"><md-table-toolbar><h2 class="md-title">Inclusion Dependency</h2></md-table-toolbar><md-table-container><table md-table="" class="md-primary result-table"><thead md-head="" md-order="inclusionDependency.query.order"><tr md-row="" class="result-header-row"><th md-column="" md-order-by="dependant" name="Dependant">Dependant</th><th md-column="" md-order-by="referenced" name="Referenced">Referenced</th><th md-column="" ng-if="extended" md-order-by="dependantColumnRatio" name="Dependant Column Ratio">Dependant Column Ratio</th><th md-column="" ng-if="extended" md-order-by="referencedColumnRatio" name="Referenced Column Ratio">Referenced Column Ratio</th><th md-column="" ng-if="extended" md-order-by="dependantOccurrenceRatio" name="Dependant Occurrence Ratio">Dependant Occurrence Ratio</th><th md-column="" ng-if="extended" md-order-by="referencedOccurrenceRatio" name="Referenced Occurrence Ratio">Referenced Occurrence Ratio</th><th md-column="" ng-if="extended" md-order-by="dependantUniquenessRatio" name="Dependant Uniqueness Ratio">Dependant Uniqueness Ratio</th><th md-column="" ng-if="extended" md-order-by="referencedUniquenessRatio" name="Referenced Uniqueness Ratio">Referenced Uniqueness Ratio</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in inclusionDependency.data | orderBy: inclusionDependency.query.order | limitTo: inclusionDependency.query.limit: (inclusionDependency.query.page - 1) * inclusionDependency.query.limit"><td md-cell="">{{item.dependant}}</td><td md-cell="">{{item.referenced}}</td><td md-cell="" ng-if="extended">{{item.dependantColumnRatio}}</td><td md-cell="" ng-if="extended">{{item.referencedColumnRatio}}</td><td md-cell="" ng-if="extended">{{item.dependantOccurrenceRatio}}</td><td md-cell="" ng-if="extended">{{item.referencedOccurrenceRatio}}</td><td md-cell="" ng-if="extended">{{item.dependantUniquenessRatio}}</td><td md-cell="" ng-if="extended">{{item.referencedUniquenessRatio}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="inclusionDependency.query.limit" md-page="inclusionDependency.query.page" md-total="{{inclusionDependency.count}}" md-on-paginate="onPageChangeIND" md-options="paginationValues"></md-table-pagination></md-card><md-card ng-if="(cached || file) && basicStatistic.count > 0"><md-table-toolbar><h2 class="md-title">Basic Statistic</h2></md-table-toolbar><md-table-container><table md-table="" class="md-primary result-table"><thead md-head="" md-order="basicStatistic.query.order"><tr md-row="" class="result-header-row"><th md-column="" md-order-by="columnCombination" name="Column Combination">Column Combination</th><th md-column="" ng-repeat-start="column in basicStatisticColumnNames" md-order-by="{{column.order}}" name="{{column.name}}" ng-repeat-end="">{{column.name}}</th><th md-column="" ng-if="extended" md-order-by="columnRatio" name="Column Ratio">Column Ratio</th><th md-column="" ng-if="extended" md-order-by="occurrenceRatio" name="Occurrence Ratio">Occurrence Ratio</th><th md-column="" ng-if="extended" md-order-by="uniquenessRatio" name="Uniqueness Ratio">Uniqueness Ratio</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in basicStatistic.data | orderBy: basicStatistic.query.order | limitTo: basicStatistic.query.limit: (basicStatistic.query.page - 1) * basicStatistic.query.limit"><td md-cell="">{{item.columnCombination}}</td><td md-cell="" ng-repeat-start="column in basicStatisticColumnNames" ng-repeat-end="">{{item[column.order]}}</td><td md-cell="" ng-if="extended">{{item.columnRatio}}</td><td md-cell="" ng-if="extended">{{item.occurrenceRatio}}</td><td md-cell="" ng-if="extended">{{item.uniquenessRatio}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="basicStatistic.query.limit" md-page="basicStatistic.query.page" md-total="{{basicStatistic.count}}" md-on-paginate="onPageChangeBS" md-options="paginationValues"></md-table-pagination></md-card><md-card ng-if="(cached || file) && denialConstraint.count > 0"><md-table-toolbar><h2 class="md-title">Denial Constraint</h2></md-table-toolbar><md-table-container><table md-table="" class="md-primary result-table"><thead md-head="" md-order="denialConstraint.query.order"><tr md-row="" class="result-header-row"><th md-column="" md-order-by="predicates" name="Predicates">Predicates</th><th md-column="" md-order-by="size" name="Size">Size</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in denialConstraint.data | orderBy: denialConstraint.query.order | limitTo: denialConstraint.query.limit: (denialConstraint.query.page - 1) * denialConstraint.query.limit"><td md-cell="">{{item.predicates}}</td><td md-cell="">{{item.size}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="denialConstraint.query.limit" md-page="denialConstraint.query.page" md-total="{{denialConstraint.count}}" md-on-paginate="onPageChangeDC" md-options="paginationValues"></md-table-pagination></md-card><md-card ng-if="(cached || file) && conditionalUniqueColumnCombination.count > 0"><md-table-toolbar><h2 class="md-title">Conditional Unique Column Combination</h2></md-table-toolbar><md-table-container><table md-table="" class="md-primary result-table"><thead md-head="" md-order="conditionalUniqueColumnCombination.query.order"><tr md-row="" class="result-header-row"><th md-column="" md-order-by="columnCombination">Column Combination</th><th md-column="" md-order-by="condition" name="Condition">Condition</th><th md-column="" md-order-by="coverage" name="Coverage">Coverage</th><th md-column="" ng-if="extended" md-order-by="columnRatio" name="Column Ratio">Column Ratio</th><th md-column="" ng-if="extended" md-order-by="occurrenceRatio" name="Occurrence Ratio">Occurrence Ratio</th><th md-column="" ng-if="extended" md-order-by="uniquenessRatio" name="Uniqueness Ratio">Uniqueness Ratio</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in conditionalUniqueColumnCombination.data | orderBy: conditionalUniqueColumnCombination.query.order | limitTo: conditionalUniqueColumnCombination.query.limit: (conditionalUniqueColumnCombination.query.page - 1) * conditionalUniqueColumnCombination.query.limit"><td md-cell="">{{item.columnCombination}}</td><td md-cell="">{{item.condition}}</td><td md-cell="">{{item.coverage}}</td><td md-cell="" ng-if="extended">{{item.columnRatio}}</td><td md-cell="" ng-if="extended">{{item.occurrenceRatio}}</td><td md-cell="" ng-if="extended">{{item.uniquenessRatio}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="conditionalUniqueColumnCombination.query.limit" md-page="conditionalUniqueColumnCombination.query.page" md-total="{{conditionalUniqueColumnCombination.count}}" md-on-paginate="onPageChangeCUCC" md-options="paginationValues"></md-table-pagination></md-card><md-card ng-if="(cached || file) && orderDependency.count > 0"><md-table-toolbar><h2 class="md-title">Order Dependency</h2></md-table-toolbar><md-table-container><table md-table="" class="md-primary result-table"><thead md-head="" md-order="orderDependency.query.order"><tr md-row="" class="result-header-row"><th md-column="" md-order-by="LHS" name="LHS">LHS</th><th md-column="" md-order-by="RHS" name="RHS">RHS</th><th md-column="" md-order-by="OrderType" name="Order Type">Order Type</th><th md-column="" md-order-by="ComparisonOperator" name="Comparison Operator">Comparison Operator</th><th md-column="" ng-if="extended" md-order-by="LHSColumnRatio" name="LHS Column Ratio">LHS Column Ratio</th><th md-column="" ng-if="extended" md-order-by="RHSColumnRatio" name="RHS Column Ratio">RHS Column Ratio</th><th md-column="" ng-if="extended" md-order-by="GeneralCoverage" name="General Coverage">General Coverage</th><th md-column="" ng-if="extended" md-order-by="LHSOccurrenceRatio" name="LHS Occurrence Ratio">LHS Occurrence Ratio</th><th md-column="" ng-if="extended" md-order-by="RHSOccurrenceRatio" name="RHS Occurrence Ratio">RHS Occurrence Ratio</th><th md-column="" ng-if="extended" md-order-by="LHSUniquenessRatio" name="LHS Uniqueness Ratio">LHS Uniqueness Ratio</th><th md-column="" ng-if="extended" md-order-by="RHSUniquenessRatio" name="RHS Uniqueness Ratio">RHS Uniqueness Ratio</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in orderDependency.data | orderBy: orderDependency.query.order | limitTo: orderDependency.query.limit: (orderDependency.query.page - 1) * orderDependency.query.limit"><td md-cell="">{{item.LHS}}</td><td md-cell="">{{item.RHS}}</td><td md-cell="">{{item.OrderType}}</td><td md-cell="">{{item.ComparisonOperator}}</td><td md-cell="" ng-if="extended">{{item.LHSColumnRatio}}</td><td md-cell="" ng-if="extended">{{item.RHSColumnRatio}}</td><td md-cell="" ng-if="extended">{{item.GeneralCoverage}}</td><td md-cell="" ng-if="extended">{{item.LHSOccurrenceRatio}}</td><td md-cell="" ng-if="extended">{{item.RHSOccurrenceRatio}}</td><td md-cell="" ng-if="extended">{{item.LHSUniquenessRatio}}</td><td md-cell="" ng-if="extended">{{item.RHSUniquenessRatio}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="orderDependency.query.limit" md-page="orderDependency.query.page" md-total="{{orderDependency.count}}" md-on-paginate="onPageChangeOD" md-options="paginationValues"></md-table-pagination></md-card><md-card ng-if="(cached || file) && multivaluedDependency.count > 0"><md-table-toolbar><h2 class="md-title">Multivalued Dependency</h2></md-table-toolbar><md-table-container><table md-table="" class="md-primary result-table"><thead md-head="" md-order="multivaluedDependency.query.order"><tr md-row="" class="result-header-row"><th md-column="" md-order-by="determinant" name="Determinant">Determinant</th><th md-column="" md-order-by="dependant" name="Dependant">Dependant</th><th md-column="" ng-if="extended" md-order-by="determinantColumnRatio" name="Determinant Column Ratio">Determinant Column Ratio</th><th md-column="" ng-if="extended" md-order-by="dependantColumnRatio" name="Dependant Column Ratio">Dependant Column Ratio</th><th md-column="" ng-if="extended" md-order-by="determinantOccurrenceRatio" name="Determinant Occurrence Ratio">Determinant Occurrence Ratio</th><th md-column="" ng-if="extended" md-order-by="dependantOccurrenceRatio" name="Dependant Occurrence Ratio">Dependant Occurrence Ratio</th><th md-column="" md-order-by="generalCoverage" name="General Coverage">General Coverage</th><th md-column="" ng-if="extended" md-order-by="determinantUniquenessRatio" name="Determinant Uniqueness Ratio">Determinant Uniqueness Ratio</th><th md-column="" ng-if="extended" md-order-by="dependantUniquenessRatio" name="Dependant Uniqueness Ratio">Dependant Uniqueness Ratio</th><th md-column="" ng-if="extended" md-order-by="pollution" name="Pollution">Pollution</th><th md-column="" ng-if="extended" md-order-by="pollutionColumn" name="Pollution Column">Pollution Column</th><th md-column="" ng-if="extended" md-order-by="informationGainCell" name="Information Gain Cell">Information Gain Cell</th><th md-column="" ng-if="extended" md-order-by="informationGainByte" name="Information Gain Byte">Information Gain Byte</th></tr></thead><tbody md-body=""><tr md-row="" ng-repeat="item in multivaluedDependency.data | orderBy: multivaluedDependency.query.order | limitTo: conditionalUniqueColumnCombination.query.limit: (conditionalUniqueColumnCombination.query.page - 1) * conditionalUniqueColumnCombination.query.limit"><td md-cell="">{{item.determinant}}</td><td md-cell="">{{item.dependant}}</td><td md-cell="" ng-if="extended">{{item.determinantColumnRatio}}</td><td md-cell="" ng-if="extended">{{item.dependantColumnRatio}}</td><td md-cell="" ng-if="extended">{{item.determinantOccurrenceRatio}}</td><td md-cell="" ng-if="extended">{{item.dependantOccurrenceRatio}}</td><td md-cell="">{{item.generalCoverage}}</td><td md-cell="" ng-if="extended">{{item.determinantUniquenessRatio}}</td><td md-cell="" ng-if="extended">{{item.dependantUniquenessRatio}}</td><td md-cell="" ng-if="extended">{{item.pollution}}</td><td md-cell="" ng-if="extended">{{item.pollutionColumn}}</td><td md-cell="" ng-if="extended">{{item.informationGainCell}}</td><td md-cell="" ng-if="extended">{{informationGainByte}}</td></tr></tbody></table></md-table-container><md-table-pagination md-limit="multivaluedDependency.query.limit" md-page="multivaluedDependency.query.page" md-total="{{multivaluedDependency.count}}" md-on-paginate="onPageChangeMVD" md-options="paginationValues"></md-table-pagination></md-card><md-card ng-if="count && uniqueColumnCombination.count > 0"><md-card-content><h2 class="md-title">Unique Column Combination</h2>{{uniqueColumnCombination.count}}</md-card-content></md-card><md-card ng-if="count && functionalDependency.count > 0"><md-card-content><h2 class="md-title">Functional Dependency</h2>{{functionalDependency.count}}</md-card-content></md-card><md-card ng-if="count && matchingDependency.count > 0"><md-card-content><h2 class="md-title">Matching Dependency</h2>{{matchingDependency.count}}</md-card-content></md-card><md-card ng-if="count && conditionalFunctionalDependency.count > 0"><md-card-content><h2 class="md-title">Conditional Functional Dependency</h2>{{conditionalFunctionalDependency.count}}</md-card-content></md-card><md-card ng-if="count && inclusionDependency.count > 0"><md-card-content><h2 class="md-title">Inclusion Dependency</h2>{{inclusionDependency.count}}</md-card-content></md-card><md-card ng-if="count && orderDependency.count > 0"><md-card-content><h2 class="md-title">Order Dependency</h2>{{orderDependency.count}}</md-card-content></md-card><md-card ng-if="count && multivaluedDependency.count > 0"><md-card-content><h2 class="md-title">Multivalued Dependency</h2>{{multivaluedDependency.count}}</md-card-content></md-card><md-card ng-if="count && conditionalUniqueColumnCombination.count > 0"><md-card-content><h2 class="md-title">Conditional Unique Column Combination</h2>{{conditionalUniqueColumnCombination.count}}</md-card-content></md-card><md-card ng-if="count && basicStatistic.count > 0"><md-card-content><h2 class="md-title">Basic Statistic</h2>{{basicStatistic.count}}</md-card-content></md-card><md-card ng-if="count && denialConstraint.count > 0"><md-card-content><h2 class="md-title">Denial Constraint</h2>{{denialConstraint.count}}</md-card-content></md-card><md-card ng-if="uniqueColumnCombination.count == 0 && orderDependency.count == 0 && conditionalUniqueColumnCombination.count == 0 && basicStatistic.count == 0 && functionalDependency.count == 0 && matchingDependency.count == 0 && conditionalFunctionalDependency.count == 0 && inclusionDependency.count == 0 && multivaluedDependency.count == 0 && denialConstraint.count == 0 && loading == false"><h3 style="margin: 20px" class="md-title">No results found!</h3></md-card><span us-spinner="{radius:50, width:20, length: 26}" spinner-key="spinner-2"></span></div>')
}]);